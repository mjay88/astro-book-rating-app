---
import ListCategories from '@/components/ListCategories'
import ListPosts from '@/components/ListPosts'
import TitlePage from '@/components/TitlePage'
import BaseLayout from '@/layouts/BaseLayout'
import { getPosts } from '@/utils'

const MAX_POSTS = 5 // max number of posts to show on the home page
const posts = await getPosts(MAX_POSTS)
---

<BaseLayout title='Home'>
	<TitlePage title='Learning Vue Js' />
	<div>
		<p>
			Welcome to my blog, where I aim to solidify my understanding of Vue.js by building a basic
			book rating app and writing about it! Essentially, I'll be creating a crash course in Vue.js,
			covering all of the framework's core concepts.
		</p>
		<br />
		<p>
			I will be using using the newer Composition API interface for this website, and also Tailwind
			UI for the styling to help keep the focus on Vue JS. This project also assumes you know how to
			set up a vue project, which, if you don't you can find out more about in the official
			documentation <a
				class='underline'
				href='https://vuejs.org/guide/quick-start.html#creating-a-vue-application'
				target='_blank'>here.</a
			>
		</p>
		<br />
		<p>Let's get started!</p>
	</div>

	<ListCategories />

	<div>
		<h2 class='text-lg font-medium tracking-wide text-end'>Start With the Basics</h2>
		<ListPosts FirstBig={true} posts={posts} />
	</div>
</BaseLayout>

<script>
	import { animate } from 'motion'
	const showAnimations = localStorage.getItem('animations') === 'true'

	if (showAnimations) {
		animate(
			'.title',
			{ y: [80, 0], opacity: [0, 1] },
			{
				duration: 2.5,
				opacity: { duration: 3 },

				offset: [0, 0.55, 0.75]
			}
		)
	}
</script>
